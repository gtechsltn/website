@inject IConfiguration Config
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha256-wMCQIK229gKxbUg3QWa544ypI4OoFlC2qQl8Q8xD8x8=" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
@{
    bool renderGA = string.Equals(Config.AzureEnvironment(), "production", StringComparison.OrdinalIgnoreCase);
    SiteOptions options = Options.Value;
}
@if (renderGA)
{
    <script src="https://www.googletagmanager.com/gtag/js?id=@(options.Analytics?.Google)" defer></script>
    <script>
        var trackingId = document.querySelector('meta[name="google-analytics"]').getAttribute('content');
        if (trackingId) {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '@(options.Analytics?.Google)');
        }
    </script>
}
<script src="~/assets/js/site.js" asp-append-version="true" defer></script>
